## Data basics {#data-basics}  

```{r include = FALSE}
library(knitr)
opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width = 6, 
        out.width = "70%", 
        fig.align = "center", 
        fig.asp   = 0.618, 
        comment   = "#>", 
        warning   = FALSE, 
        message   = FALSE)

library("tidyverse")
```

```{r}
library("magick")
image_read("figures/sd021-09.png") %>% 
        image_scale("x300") %>% 
        image_write(., path = "figures/data-basics-01.png")
image_read("figures/sd021-02.png") %>% 
        image_scale("x300") %>% 
        image_write(., path = "figures/data-basics-02.png")
image_read("figures/sd011-14.png") %>% 
        image_scale("x300") %>%  
        image_write(., path = "figures/data-basics-03a.png")
image_read("figures/sd011-14b.png") %>% 
        image_scale("x300")  %>%        
        image_write(., path = "figures/data-basics-03b.png") 
image_read("figures/sd021-01.png") %>% 
        image_scale("x300") %>% 
        image_write(., path = "figures/data-basics-04.png")

img3a <- image_read("figures/data-basics-03a.png")
img3b <- image_read("figures/data-basics-03b.png")
image_append(c(img3a, img3b), stack = FALSE) %>% 
        image_scale("x300") %>% 
        image_write(., path = "figures/data-basics-03.png")

img1 <- image_read("figures/data-basics-01.png")
img2 <- image_read("figures/data-basics-02.png")
img3 <- image_read("figures/data-basics-03.png")
img4 <- image_read("figures/data-basics-04.png")
image_append(c(img1, img2, img3, img4), stack = FALSE) %>% 
        image_write(., path = "figures/data-basics-00.png")
```

```{r echo = FALSE}
htmltools::img(src = knitr::include_graphics("figures/data-basics-00.png"),
               alt   = '',
               style = 'left:0px; padding:0px;', 
               width = 700)
```

In [Tidy Data](https://vita.had.co.nz/papers/tidy-data.pdf), Hadley Wickham says, 

> It is often said that 80% of data analysis is spent on the process of cleaning and preparing the data. Data preparation is not just a first step, but must be repeated many times over the course of analysis as new problems come to light or new data is collected. 

The goal of this 50-minute tutorial is to introduce the R novice to the basic elements of data carpentry. The essential skills can be grouped into these basic categories: 

- Determine your data sources 
- Acquire raw data and save locally 
- Read into R and identify the data structure 
- Transform, reshape, and save 





### Determine your data sources 

When we work with data in the MIDFIELD Institute, the practice data are provided in the midfieldr and midfielddata packages. 

In these practice sessions, however, we use a number of other sources to develop familiarity with importing, reading, writing, and manipulating data. The most common data sources are 

- Your own data 
- Online, open-source data 
- Data sets in R and in R packages 

**Your own data**  

Data you 

**Online, open-source data**  

There are hundreds of websites providing access to public data. Here are just a few to illustrate. We will use 

- [Centers for Disease Control and Prevention (CDC)](https://www.cdc.gov/datastatistics/index.html)  
- [Organisation for Economic Cooperation and Development (OECD)](https://data.oecd.org/)  
- [American Community Survey](https://www.census.gov/programs-surveys/acs/)  
- [FiveThirtyEight](https://fivethirtyeight.com/)  
- [Guardian Datablog](https://www.theguardian.com/data)  

**Data sets in R and in R packages**  

Practice data sets are included with the basic R installation and with some R packages.

To list the practice data sets available in R, type in the Console,

```r
data() # to list data sets in base R
```

which yields

     #> AirPassengers  Monthly Airline Passenger Numbers
     #> BJsales        Sales Data with Leading Indicator
     #> BOD            Biochemical Oxygen Demand
     #> CO2            Carbon Dioxide Uptake in Grass Plants
     #> Formaldehyde   Determination of Formaldehyde
     etc.

We use the `data()` function to list practice datasets included in a package (if any). For example, load the dplyr package by typing in the Console, 

To list the practice data sets available in an R package (if any), 

```r
library("dplyr")
data(package = "dplyr") # to list data sets an R package
```

yields

     #> band_instruments   Band membership
     #> band_instruments2  Band membership
     #> band_members       Band membership
     #> nasa               NASA spatio-temporal data
     #> starwars           Starwars characters
     #> storms             Storm tracks data

Every data set in base R and in R packages has a help page that describes format of the data and the variable names with short descriptions. Type in the Console a question mark followed by the name of the data set, e.g.,

```r
? starwars
```

yields

```{r echo = FALSE}
htmltools::img(src = knitr::include_graphics("figures/starwars-help-page.png"),
               alt   = 'starwars help page',
               style = 'left:0px; padding:0px;',
               width = 600)
```


<br>
Data in base R and in R packages are automatically loaded

- Launching R loads all data sets in base R
- Loading a package with `library()` loads all the data sets in the package
- All other data files have to be read or web-scraped  explicitly

### Exercises 

1. Determine the data sets included in the midfielddata package.
1. Determine the variables in the `midfielddegrees` data set from the midfielddata package.
1. Determine the data sets included in the midfieldr package.
1. Determine the variables in the `case_stickiness` data set from the midfieldr package.


### Acquire raw data and save locally 

### Read into R and identify the data structure 

### Transform, reshape, and save 




